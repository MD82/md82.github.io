{{ define "title" }}Blog | {{ .Site.Title }}{{ end }}
{{ define "main" }}

{{ $posts := where .Pages "Params.published" "ne" false }}
{{ $paginator := .Paginate ($posts.ByDate.Reverse) }}
<div class="post-list">
  {{ range $paginator.Pages }}
  <article class="post-card">
    <p class="meta">{{ .Date.Format "2006년 1월 2일" }}</p>
    <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
    {{ with .Params.description }}
      <p class="summary">{{ . }}</p>
    {{ else }}
      <p class="summary">{{ .Summary | plainify }}</p>
    {{ end }}
    {{ with .Params.tags }}
    <div class="tags">
      {{ range . }}
        <span class="tag">{{ . }}</span>
      {{ end }}
    </div>
    {{ end }}
    <a class="read-more" href="{{ .RelPermalink }}">읽어보기 &rarr;</a>
  </article>
  {{ end }}
</div>

{{ partial "pagination.html" $paginator }}
{{ end }}
